(function(e){function t(t){for(var r,a,c=t[0],s=t[1],u=t[2],l=0,m=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&m.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i={app:0},o=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-33bd39dd":"b6f121ca","chunk-e60ebe44":"14e4a89b","chunk-1a52d0ee":"79875c0d","chunk-fa6989c0":"db15d783","chunk-01a3ff49":"91fd10af","chunk-10169cf5":"0c4d5648","chunk-2d216d34":"1536e375","chunk-721ac0ae":"fece5dec","chunk-74ad97a0":"aab51e33","chunk-7b90cb2c":"803b06c1","chunk-81b4865e":"a940c859","chunk-d47bf37c":"1c0d93c6"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-33bd39dd":1,"chunk-e60ebe44":1,"chunk-fa6989c0":1,"chunk-01a3ff49":1,"chunk-10169cf5":1,"chunk-721ac0ae":1,"chunk-74ad97a0":1,"chunk-7b90cb2c":1,"chunk-81b4865e":1,"chunk-d47bf37c":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-33bd39dd":"410c5674","chunk-e60ebe44":"6e32bc8b","chunk-1a52d0ee":"31d6cfe0","chunk-fa6989c0":"ee663a8f","chunk-01a3ff49":"837cc303","chunk-10169cf5":"40bccba1","chunk-2d216d34":"31d6cfe0","chunk-721ac0ae":"7c534b1f","chunk-74ad97a0":"7c534b1f","chunk-7b90cb2c":"7c534b1f","chunk-81b4865e":"a3d6f859","chunk-d47bf37c":"a3d6f859"}[e]+".css",i=s.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return t()}var m=document.getElementsByTagName("style");for(c=0;c<m.length;c++){u=m[c],l=u.getAttribute("data-href");if(l===r||l===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],f.parentNode.removeChild(f),n(o)},f.href=i;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var m=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",m.name="ChunkLoadError",m.type=r,m.request=a,n[1](m)}i[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var m=0;m<u.length;m++)t(u[m]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("1356"),a=n.n(r);a.a},1356:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",[n("v-app",{staticClass:"grey lighten-4 main"},[n("navbar"),n("router-view",{staticClass:"content"}),n("tabbar",{directives:[{name:"show",rawName:"v-show",value:this.$store.getters.ISLOGGEDIN,expression:"this.$store.getters.ISLOGGEDIN"}]})],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar"},[n("v-app-bar",{attrs:{app:"",dense:"",fixed:"",dark:"",color:"primary"}},[n("v-app-bar-nav-icon",{on:{click:function(t){e.navdraw=!e.navdraw}}}),n("v-spacer"),n("v-toolbar-title",[n("router-link",{staticClass:"tb-title",attrs:{to:"/",tag:"span"}},[e._v("ParkingSlot")])],1),n("div",{staticClass:"flex-grow-1"}),[n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-magnify")])],1)]],2),n("v-navigation-drawer",{attrs:{absolute:"",temporary:"",app:""},scopedSlots:e._u([e.login?{key:"prepend",fn:function(){return[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[n("img",{attrs:{src:"https://randomuser.me/api/portraits/men/81.jpg"}})]),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(e.username))]),n("v-list-item-subtitle",[e._v("Logged In")])],1)],1),n("v-divider")]},proxy:!0}:null],null,!0),model:{value:e.navdraw,callback:function(t){e.navdraw=t},expression:"navdraw"}},[e.login?n("v-list",{attrs:{dense:""}},[n("v-list-item",{on:{click:function(t){return e.redirect("home")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-home")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Home")])],1)],1),n("v-list-item",{on:{click:function(t){return e.redirect("profile")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-face")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Profile")])],1)],1),n("v-list-item",{on:{click:function(t){return e.redirect("favourite")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-heart")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Favourite")])],1)],1),n("v-list-item",{on:{click:function(t){return e.redirect("map")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-map-marker")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Map")])],1)],1),n("v-divider"),n("v-list-item",{on:{click:function(t){return e.logout()}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-lock-open")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Logout")])],1)],1),n("br")],1):e._e(),e.login?e._e():n("v-list",{attrs:{dense:""}},[n("v-list-item",{on:{click:function(t){return e.redirect("login")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-account")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Login")])],1)],1),n("v-list-item",{on:{click:function(t){return e.redirect("register")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-playlist-plus")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Register")])],1)],1),n("v-divider"),n("v-list-item",{on:{click:function(t){return e.redirect("information")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-information")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("More information")])],1)],1)],1)],1)],1)},c=[],s={data(){return{navdraw:!1}},computed:{login(){let e=this.$store.getters.ISLOGGEDIN;return e},username(){let e=this.$store.getters.USERNAME;return e}},methods:{redirect(e){this.$router.push("/"+e)},logout(){this.$store.commit("SETAUTHSTATUS",!1),this.$router.push({path:"/login"})}}},u=s,l=n("2877"),m=n("6544"),f=n.n(m),d=n("40dc"),p=n("5bc1"),h=n("8336"),v=n("ce7e"),b=n("132d"),E=n("8860"),g=n("da13"),k=n("8270"),S=n("5d23"),T=n("34c3"),I=n("f774"),A=n("2fa4"),N=n("2a7f"),O=Object(l["a"])(u,o,c,!1,null,null,null),w=O.exports;f()(O,{VAppBar:d["a"],VAppBarNavIcon:p["a"],VBtn:h["a"],VDivider:v["a"],VIcon:b["a"],VList:E["a"],VListItem:g["a"],VListItemAvatar:k["a"],VListItemContent:S["b"],VListItemIcon:T["a"],VListItemSubtitle:S["c"],VListItemTitle:S["d"],VNavigationDrawer:I["a"],VSpacer:A["a"],VToolbarTitle:N["a"]});var _=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tabbar"},[n("v-bottom-navigation",{attrs:{dark:"",fixed:"",grow:"","background-color":"primary",color:"white"}},[n("v-btn",{attrs:{to:"/home"}},[n("span",[e._v("Home")]),n("v-icon",[e._v("mdi-home")])],1),n("v-btn",{attrs:{to:"/map"}},[n("span",[e._v("Map")]),n("v-icon",[e._v("mdi-map-marker")])],1),n("v-btn",{attrs:{to:"/favourite"}},[n("span",[e._v("Favorites")]),n("v-icon",[e._v("mdi-heart")])],1),n("v-btn",{attrs:{to:"/profile"}},[n("span",[e._v("Profile")]),n("v-icon",[e._v("mdi-face")])],1)],1)],1)},y=[],L=n("b81c"),P={},R=Object(l["a"])(P,_,y,!1,null,null,null),V=R.exports;f()(R,{VBottomNavigation:L["a"],VBtn:h["a"],VIcon:b["a"]});var D={components:{navbar:w,tabbar:V}},C=D,F=(n("034f"),n("b0a0"),n("7496")),M=n("a722"),G=Object(l["a"])(C,a,i,!1,null,null,null),U=G.exports;f()(G,{VApp:F["a"],VLayout:M["a"]});var x=n("8c4f"),j=n("2f62"),$=n("bc3a"),z=n.n($),H={state:{firstName:"",lastName:"",username:"",email:"",phoneNo:"",role:"",token:localStorage.getItem("access_token")||null,isLoggedIn:!1,userid:"",favorites:[],filterConfig:{IsAscending:!0,PageSize:20,PageNumber:1,VehType:"",AgencyType:"",Price:"",StartDate:"",StartTime:"",EndDate:"",EndTime:"",IsMinPrice:!0}},getters:{FIRSTNAME:e=>{return e.firstName},LASTNAME:e=>{return e.lastName},USERNAME:e=>{return e.username},EMAIL:e=>{return e.email},PHONENO:e=>{return e.phoneNo},ROLE:e=>{return e.role},ISLOGGEDIN:e=>{return e.isLoggedIn},TOKEN:e=>{return e.token},USERID:e=>{return e.userid},FAVORITES:e=>{return e.favorites},FILTER:e=>{return e.filterConfig}},mutations:{SETAUTHSTATUS(e,t){e.isLoggedIn=t},SETFIRSTNAME(e,t){e.firstName=t},SETLASTNAME(e,t){e.lastName=t},SETUSERNAME(e,t){e.username=t},SETEMAIL(e,t){e.email=t},SETPHONENO(e,t){e.phoneNo=t},SETROLE(e,t){e.role=t},SETTOKEN(e,t){e.token=t},SETUSERID(e,t){e.userid=t},ADDFAVORITES(e,t){e.favorites.push(t)},CLEARFAVORITES(e){e.favorites.length=0},REMOVEFAVORITES(e,t){var n=e.favorites.indexOf(t);n>-1&&e.favorites.splice(n,1)},SETFILTERCONFIG(e,t){e.filterConfig=t}},actions:{LOGIN:({commit:e},t)=>{return new Promise((e,n)=>{z.a.post("https://parkingslotapi.azurewebsites.net/api/users/authenticate",t).then(({data:t,status:n})=>{200===n&&(W.commit("SETUSERNAME",t.username),W.commit("SETEMAIL",t.email),W.commit("SETFIRSTNAME",t.firstName),W.commit("SETLASTNAME",t.lastName),W.commit("SETPHONENO",t.phoneNumber),W.commit("SETROLE",t.role),W.commit("SETTOKEN",t.token),W.commit("SETUSERID",t.id),W.commit("SETAUTHSTATUS",!0),localStorage.setItem("access_token",t.token),e(!0))}).catch(e=>{n(e)})})},REGISTER:({commit:e},t)=>{return new Promise((e,n)=>{z.a.post("https://parkingslotapi.azurewebsites.net/api/users",t).then(({data:t,status:n})=>{200===n&&e(!0)}).catch(e=>{n(e)})})},UPDATE:({commit:e},t)=>{return new Promise((e,n)=>{z.a.put(`https://parkingslotapi.azurewebsites.net/api/users/${(void 0).$store.getters.USERID}`,t,{headers:{Authorization:W.getters.TOKEN}}).then(({data:n,status:r})=>{204===r&&(W.commit("SETFIRSTNAME",t.FirstName),W.commit("SETLASTNAME",t.LastName),W.commit("SETEMAIL",t.Email),W.commit("SETPHONENO",t.PhoneNumber),e(!0))}).catch(e=>{n(e)})})},CHANGEPASSWORD:({commit:e},t)=>{return new Promise((e,n)=>{z.a.post("https://parkingslotapi.azurewebsites.net/api/users/ResetPassword",t).then(({data:t,status:n})=>{200===n&&e(!0)}).catch(e=>{n(e)})})},GETFAVORITES:({commit:e})=>{return new Promise((e,t)=>{z.a.get("https://parkingslotapi.azurewebsites.net/api/users/"+W.getters.USERID+"/favorites").then((function(t){if(W.commit("CLEARFAVORITES"),0!=t.data.length)for(var n=0;n<t.data.length;n++)W.commit("ADDFAVORITES",t.data[n].carparkId);e(t)})).catch(e=>{t(e)})})},ADDFAVORITES:({commit:e},t)=>{return new Promise((e,n)=>{z.a.post("https://parkingslotapi.azurewebsites.net/api/users/"+W.getters.USERID+"/favorites",{CarparkId:t}).then((function(){W.commit("ADDFAVORITES",t),e(!0)})).catch(e=>{n(e)})})},DELETEFAVORITE:({commit:e},t)=>{return new Promise((e,n)=>{z.a.delete("https://parkingslotapi.azurewebsites.net/api/users/"+W.getters.USERID+"/favorites/"+t).then((function(n){W.commit("REMOVEFAVORITES",t),e(n)})).catch(e=>{n(e)})})},UPDATEFILTER:({commit:e},t)=>{return new Promise((e,n)=>{W.commit("SETFILTERCONFIG",t),e(!0)})}}},B=n("0e44"),K=n("88b4"),q=n.n(K),J=new q.a({isCompression:!1});r["a"].use(j["a"]);var W=new j["a"].Store({modules:{user:H},plugins:[Object(B["a"])({storage:{getItem:e=>J.get(e),setItem:(e,t)=>J.set(e,t),removeItem:e=>J.remove(e)}})]});const Y=()=>Promise.all([n.e("chunk-e60ebe44"),n.e("chunk-1a52d0ee")]).then(n.bind(null,"5456")),Q=()=>Promise.all([n.e("chunk-e60ebe44"),n.e("chunk-fa6989c0"),n.e("chunk-01a3ff49"),n.e("chunk-2d216d34")]).then(n.bind(null,"c3b0")),X=()=>Promise.all([n.e("chunk-e60ebe44"),n.e("chunk-fa6989c0"),n.e("chunk-7b90cb2c")]).then(n.bind(null,"8b16")),Z=()=>Promise.all([n.e("chunk-e60ebe44"),n.e("chunk-fa6989c0"),n.e("chunk-74ad97a0")]).then(n.bind(null,"bedf")),ee=()=>Promise.all([n.e("chunk-e60ebe44"),n.e("chunk-fa6989c0"),n.e("chunk-721ac0ae")]).then(n.bind(null,"d860")),te=()=>Promise.all([n.e("chunk-e60ebe44"),n.e("chunk-fa6989c0"),n.e("chunk-81b4865e")]).then(n.bind(null,"1ff1")),ne=()=>Promise.all([n.e("chunk-e60ebe44"),n.e("chunk-fa6989c0"),n.e("chunk-d47bf37c")]).then(n.bind(null,"09ee")),re=()=>n.e("chunk-33bd39dd").then(n.bind(null,"bf402")),ae=()=>Promise.all([n.e("chunk-e60ebe44"),n.e("chunk-fa6989c0"),n.e("chunk-01a3ff49"),n.e("chunk-10169cf5")]).then(n.bind(null,"ccb6")),ie=()=>Promise.all([n.e("chunk-e60ebe44"),n.e("chunk-fa6989c0"),n.e("chunk-01a3ff49")]).then(n.bind(null,"2b31"));r["a"].use(x["a"]);const oe=(e,t,n)=>{0!=W.getters.ISLOGGEDIN?n("/"):n()},ce=(e,t,n)=>{W.getters.ISLOGGEDIN?n():n("/login")},se=(e,t,n)=>{W.getters.ISLOGGEDIN?n("/home"):n("/main")};var ue=new x["a"]({scrollBehavior(){return{x:0,y:0}},routes:[{name:"default",path:"",component:Y,beforeEnter:se},{name:"main",path:"/main",component:Y},{name:"login",path:"/login",component:X,beforeEnter:oe},{name:"register",path:"/register",component:Z,beforeEnter:oe},{name:"home",path:"/home",component:Q,beforeEnter:ce},{name:"profile",path:"/profile",component:ne,beforeEnter:ce},{name:"favourite",path:"/favourite",component:re,beforeEnter:ce},{name:"map",path:"/map",component:ae,beforeEnter:ce},{name:"forgot",path:"/forgot",component:ee,beforeEnter:oe},{name:"resetpassword",path:"/resetpassword/:userId/:token",component:te},{name:"filter",path:"/filter",component:ie},{path:"*",redirect:"/home"}],mode:"history"}),le=n("a7fe"),me=n.n(le),fe=n("f309");n("bf40");r["a"].use(fe["a"]);var de=new fe["a"]({icons:{iconfont:"mdi"}}),pe=n("755e"),he=n("ae66"),ve=n.n(he),be=n("e166"),Ee=n.n(be);r["a"].use(me.a,z.a),r["a"].use(pe,{installComponents:!0,load:{key:"AIzaSyA78_ixDHcOmN-gmzu5nYVkBcFD0A8vkw8",libraries:"places"}}),r["a"].component("GmapCluster",ve.a),r["a"].use(Ee.a,{props:{spinner:"default"},system:{throttleLimit:500}}),r["a"].config.productionTip=!1,z.a.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers["Authorization"]="Bearer "+t),e},e=>{Promise.reject(e)}),new r["a"]({router:ue,vuetify:de,store:W,render:e=>e(U)}).$mount("#app")},b0a0:function(e,t,n){"use strict";var r=n("bfea"),a=n.n(r);a.a},bfea:function(e,t,n){}});
//# sourceMappingURL=app.4b84ae7c.js.map